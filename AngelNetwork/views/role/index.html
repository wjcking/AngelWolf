<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title></title>
    <script src="content/jquery-3.5.1.min.js"></script>
    <script src="content/utils.js"></script>
    <!-- [if lt IE 9]>
     <script src="content/json2.js" type="text/javascript"></script>
      <![endif]-->
    <script src="content/handlers.js"></script>
    <script src="content/role.js"></script>
</head>
<body>
    <div id="info_out"></div>
    <div id="divResult"></div>
    <textarea id="TextArea1" cols="220" rows="120"></textarea>

    <script type="text/javascript">

        //var roleInfo = role.getInfo();
        var role = new Role();
        var categoryInfo = role.getCategoryInfo();

        //var result = hand.get(categoryInfo);

        //{
        //      "name": "role_category_shape",
        //      "type": "func"
        //  }
        Handlers.handler.get(
            {
                //"name": "role_category",
                //    "type": "list"
                "name": "role_category_nodes",
                "type": "func"
            },
            function (data) {

              $("#TextArea1").val( data );
                alert("sucess");

            },
            function (xhr, state, errorThrown) {
                alert("[error]"+errorThrown);
      
                //  $("#TextArea1").val(xhr.responseText);
                $("#divResult").append("状态码：" + xhr.status);
                //    //当前状态,0-未初始化，1-正在载入，2-已经载入，3-数据进行交互，4-完成。
                $("#divResult").append("状态:" + xhr.readyState)
                $("#divResult").append("错误信息:" + xhr.statusText);
                // $("#divResult").append("返回响应信息：" + xhr.responseText);//这里是详细的信息
                //$("#divResult").append("请求状态：" + textStatus);
                //$("#divResult").append(errorThrown);
                //$("#TextArea1").val("asdf");
                //alert(2);
            },
            function (XMLHttpRequest, textStatus) {
                alert("[complete]" + XMLHttpRequest.responseText);
                $("#TextArea1").val(XMLHttpRequest.responseText);
            }
        );


    </script>

</body>
</html>
